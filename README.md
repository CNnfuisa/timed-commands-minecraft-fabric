# Timed Commands Mod

A Fabric mod for Minecraft 1.21.1 that allows executing commands at specific times and days of the week.

## Features

- Execute commands at specific times on specific days (supports second-level precision)
- Easy-to-edit YAML configuration file with comments
- Global enable/disable toggle
- Configurable log level
- Supports multiple commands per task
- Real-time config reloading
- Low resource usage (tasks are scheduled precisely, no constant checking)
- Clear and concise logging

## Installation

1. Download the latest JAR file from the `build/libs/` directory
2. Place the JAR file in your server's `mods` folder
3. Start the server to generate the default configuration file
4. Edit the configuration file in `config/timed_commands.yaml` to your liking

## Configuration

The configuration file is located at `config/timed_commands.yaml`. It uses YAML format, which is more human-readable and supports comments.

### Basic Configuration Structure

```yaml
# Timed Commands Mod Configuration
# This file is automatically generated if it doesn't exist
# You can add multiple tasks, each with its own time and commands

# Global settings
global:
  # Enable or disable the entire mod
  enabled: true
  # Log level (DEBUG, INFO, WARN, ERROR)
  log_level: INFO

# List of timed tasks
tasks:
  # Task 1: Morning announcement
  - name: morning_announcement
    # Time to execute (24-hour format) - supports seconds (HH:mm:ss)
    time: "08:00:00"
    # Days of the week to execute (MON, TUE, WED, THU, FRI, SAT, SUN)
    days: [MON, TUE, WED, THU, FRI, SAT, SUN]
    # List of commands to execute
    commands:
      - "say Good morning! Welcome to the server!"
      - "weather clear"
    # Enable this task
    enabled: true
```

## How to Use

1. **Add a new task**: Simply add a new task entry under the `tasks` list in the configuration file
2. **Modify an existing task**: Edit the task's properties in the configuration file
3. **Disable a task**: Set `enabled: false` for the task
4. **Disable the entire mod**: Set `global.enabled: false`
5. **Change log level**: Modify `global.log_level` to DEBUG, INFO, WARN, or ERROR
6. **Reload configuration**: The mod automatically reloads the configuration file when it's modified, no server restart needed!
7. **Task scheduling**: Tasks are scheduled precisely based on their configured time and days

## Key Usage Notes

- **Time format**: Use 24-hour format (HH:mm:ss) for task execution times
- **Days format**: Use the 3-letter abbreviations for days (MON, TUE, WED, THU, FRI, SAT, SUN)
- **Commands**: Commands are executed as the server console, so they have full server privileges
- **Config hot reload**: Any changes to the configuration file are automatically detected and applied
- **Task rescheduling**: After modifying tasks, they are automatically rescheduled to run at the correct times
- **Resource usage**: The mod uses minimal resources by scheduling tasks precisely instead of constantly checking

